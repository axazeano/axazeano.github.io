
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Гайд по Linux для начинающих. Часть 2 - Не блог</title>
  <meta name="author" content="axazeano">

  
  <meta name="description" content="Просмотр текстовых файлов Существует несколько утилит для просмотра текстовых файлов в консоли, такие как cat, less, и немного специфичные head, tail &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://axazeano.github.io/blog/2017/01/05/linux-guide-for-beginers-part-2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Не блог" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Не блог</a></h1>
  
    <h2>Some intresting things.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="axazeano.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Гайд по Linux для начинающих. Часть 2</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-01-05T01:13:42+03:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>1:13 am</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><h3>Просмотр текстовых файлов</h3>

<p><img src="/images/user_images/read_files.png"></p>

<p>Существует несколько утилит для просмотра текстовых файлов в консоли, такие как <code>cat</code>, <code>less</code>, и немного специфичные <code>head</code>, <code>tail</code>. Давай посмотрим на них подробнее:</p>

<h4><code>less</code></h4>

<p>Удобная утилита для просмотра текстовых файлов в консоли. Для базового использования достаточно набрать</p>

<p><code>less my_text_document</code></p>

<p><img src="/images/user_images/less_example.png"></p>

<p>Документ отобразится на экране, его можно листать вверх/вниз/влево/вправо, искать слова.
Утилита <code>less</code> позаимствовала команды у своей предшедственницы, утилиты <code>more</code>, которая выполняла схожие функции, но по сравнению с <code>less</code> имеет некоторые недостатки. Также, часть команд <code>less</code> взяла из утилиты <code>vi</code>, которая является очень продвинутым текстовым редактором.</p>

<p>Для выхода из <code>less</code> достаточно нажать на клавишу <code>q</code>. Если не работает, скорее всего у вас включена русская раскладка клавиатуры.</p>

<!-- more -->


<p>В <code>less</code> поиск осуществляется от начала документа к концу при помощи символа <code>/</code> + искомая строка. То есть если вы хотите найти слово <code>foo</code> в начале документа, наберите <code>/foo</code>.</p>

<p>Также присутсвтует поиск с конца документа, при помощи символа <code>?</code>. Аналогичным образом набираете <code>?foo</code>.</p>

<p>Для перехода к следующему совпадению нажмите на &lsquo;n&rsquo;, к предыдущему - <code>N</code>
(т.е. <code>shift</code> + <code>n</code>).</p>

<blockquote><p><img src="/images/user_images/less_search.png">
пример поиска фразы <code>bar</code></p></blockquote>

<p>Чтобы перейти в самое начало документа используйте клавишу <code>g</code>, в конец документа -
<code>G</code>.</p>

<h4><code>cat</code></h4>

<p><img src="/images/user_images/how_cat_work.png"></p>

<p>Название этой утилиты не имеет ничего общего с котами и кошками и является сокращением от concatenate (конкатенация). При помощи этой утилиты можно конкатенировать файлы. Воу воу, что же такое <strong>конкатенация</strong>? Давайте обратимся к википедии:</p>

<blockquote><p>Конкатена́ция (лат. concatenatio «присоединение цепями; сцепле́ние») — операция склеивания объектов линейной структуры, обычно строк. Например, конкатенация слов «микро» и «мир» даст слово «микромир».</p></blockquote>

<p>При конкатенации файлов текста из них будут просто объединяться, однако, как это поможет нам прочесть файл? Давайте глянем в документацию, а именно в <code>man cat</code>:</p>

<p><img src="/images/user_images/man_cat.png"></p>

<p>Утилита <code>cat</code> не только конкатенирует файлы, но и печатает их на консоль, чем собственно мы и воспользуемся. Если мы передадим всего один файл в эту утилиту, то она просто напечатает его на экране (и впрямь, объединять его ведь не с чем):</p>

<p><img src="/images/user_images/cat_single_file.png"></p>

<p><img src="/images/user_images/cat_first_example.png">
<br>
Давай попробуем объединить два файла и вывести их на экран:</p>

<p><img src="/images/user_images/cat_second_example.png"></p>

<hr>


<h3><code>head</code></h3>

<p><img src="/images/user_images/how_head_works.png"></p>

<p>Эта утилита выводит несколько первых строк из файла. Просто и удобно. Зачем это нужно, скажете вы? Допустим, у нас есть файл, причем файл довольно объемный, мегабайт так на 50. При помощи <code>cat</code> его не просмотришь, он просто не влезет в консоль (да да, вывод в консоль ограничивается некоторым числом строк, число выставляется в настройках эмулятора терминала) и будет показан только его конец.</p>

<blockquote><p>Настройка числа строк в iTerm 2. Есть опция неограниченного числа строк (unlimited srollback), но в нашем случае это не панацея
<img src="/images/user_images/scrollback_lines.png"></p></blockquote>

<p>Давате попробуем <code>head</code> в деле. Для начала сделаем файл с несколькими строками:
<img src="/images/user_images/create_multilines_file.png"></p>

<p>Вначале объединим два наших файла и вывод утилиты <code>cat</code> направим в новый файл. Затем добавим новую строку при помощи команды <code>echo</code>.</p>

<p>Проверим содержимое файла:</p>

<p><img src="/images/user_images/check_multilines_file.png"></p>

<p>Затем глянем в <code>man head</code>:</p>

<p><img src="/images/user_images/man_head.png"></p>

<hr>


<h4>Мини-раздел &ldquo;читаем документацию в <code>man</code>&rdquo;</h4>

<p>Очень важно научиться читать документацию. Да, она на английском языке, поэтому вооружаемся словариками. Пройдемся по разделам и попробуем понять, что же из себя представляет утилита <code>head</code>:</p>

<p><strong>NAME</strong></p>

<p>Приведено название команды и что она в принципе делает. Вольный перевод:</p>

<p><code>head --отоборажает первые строки файла</code></p>

<p><strong>SYNOPSIS</strong></p>

<p>Синопсис содержит в себе информацию о том, как можно использовать команду. Синопсис утилиты <code>head</code> выглядит следующим образом:</p>

<p><code>head [-n count | -c bytes] [file ...]</code></p>

<p>Как это понимать? Для начала взглянем на то, что он разделён на блоки:
- <code>head</code> - имя утилиты
- <code>[-n count | -c bytes]</code> - флаги с параметрами
- <code>[file ...]</code> - основные параметры утилиты</p>

<p>Давайте попробуем разобраться что к чему. С первым блоком должно быть все понятно.</p>

<p>Второй блок заключен в квадратные скобки. Что это значит? Квадратные скобки означают то, <strong>что находиться в них является необязательным</strong>!. Мы можем вызвать команду без этого блока.</p>

<p>С квадратными скобками мы разобрались и можем их опустить. Теперь можно представить второй блока как <code>-n count | -c bytes</code>. Как было уже сказанно выше, этот блок содержит флаги. Флаги обычно начинаются со знака - и позволяют передать утилите дополнительные параметры. Здесь есть два флага:</p>

<ul>
<li><code>-n count</code> - устанавливаем количество выводимых строк (как мы помним, <code>head</code> выводит несколько первых строк файла)</li>
<li><code>-c bytes</code> - устанавливает количество выводимых байт (например, мы хотим вывести первые 1024 байта, иногда полезно)</li>
</ul>


<p>Как можно заметить, флаги разделяет символ вертикальной черты <strong>|</strong> . Данный символ принято читать как <strong>ИЛИ</strong> . Мы выводим несколько строк <strong>ИЛИ</strong> некоторое количество байт, но вместе эти параметры использовать нельзя.</p>

<p>Взглянем на поледний блок <code>[file ..]</code>. Внутри него можно передать файл или несколько файлов, из которых будут выведены первые строки. По квадратным скобкам становится ясно, что он тоже не обязателен к написанию. Но как же так, если мы не напишем из какого файла выводить строки, что же будет??? Читаем документацию дальше</p>

<p> <strong>Description</strong></p>

<p> Тут уже идет нормальная, человекочитаемая документация на английском языке.</p>

<p><code>This filter displays are the first count lines or bytes for each of the specified files, or of the standart input if no files are specified</code> - Этот фильтр отображает заданное число первых строк или байт из каждого указанного файла или использует стандартный поток ввода если файлы не заданы.</p>

<p>Как видно, <code>head</code> назвали <strong>фильтром</strong>. При помощи него можно фильтровать информацию в так называемых пайплайнах (<code>pipe-line</code>) или как их ещё называют конвеерах. Это отдельная глава, сейчас мы коснёмся её лишь вскользь. И так же мы поняли, что если мы не укажем третий блок с файлами, то утилита <code>head</code> будет брать информацию из <code>stdin</code>.</p>

<p><code>If count is omitted it defaults to 10.</code> - Если число строк не указано, будет использованно значение по-умолчанию равное 10.
Ага, если мы пропускаем второй блок, и не указываем число строк или число байт, то по-умолчанию выводятся первые десять строк.</p>

<p><code>If more than a single file is specified, each file is preceded by a header consisting of the string ``==&gt; XXX &lt;=='' where ``XXX'' is the name of the file.</code> - Если указанно более одного файла, каждый файл будет начинаться со строки вида <code>==&gt; XXX &lt;==</code>, где <code>XXX</code> - имя файла. Ну, сделанно это явно для удобства.</p>

<p><img src="/images/user_images/head_multifile.png"></p>

<p><strong>EXIT STATUS</strong></p>

<p><code>Exit Status</code> - число, которое возвращает утилита по завершению своей работы. По этому числу можно определить, закончила ли программа работу корректно, или случилась какая-то ошибка.</p>

<p><code>The head utility exits 0 on success, and &gt;0 if an error occurs.</code> - Утилита <code>head</code> возвращает <code>0</code> в случае успешного завершения работы и число большее нуля в случае возникновения ошибок.</p>

<p> <strong>SEE ALSO</strong>
 Схожие по функционалу утилиты. В данном случае приведена утилита <code>tail</code></p>

<p> <strong>HISTORY</strong>
 История утилиты</p>

<p> Прочёв документацию можно начать пользоваться утилитой <code>head</code>:
 - <code>head -n 5 foo</code> - читаем 5 первых строк из файла <code>foo</code>
 - <code>head -b 2048 foo</code> - читаем 2048 байт из файла <code>foo</code>
 - <code>head foo</code> - читаем 10 (по-умолчанию) строк из <code>foo</code>
 - <code>cat my_big_file | head -n 20</code> - это один из примеров использования конвеера. Не дай себя запутать, если вы читали про стандартные потоки, то знаете что тут символ прямой линии <strong>|</strong> связывает выходной поток предшествующей ему программы с входным потоком следующим за ним программы. В данном случае в начале мы читаем большой файл <code>my_big_file</code> при помощи утилиты <code>cat</code> и направляем выходной поток не в консоль для вывода текста, а соединяем его с входным потоком утилиты <code>head</code> (заметь, мы вызвали <code>head</code> без указания файла). В данном случае в <code>head</code> попадает текст из утилиты <code>cat</code>, <code>head</code> берёт из него 20 первых строк и выводит на экран</p>

<p> <hr></p>

<h3><code>tail</code></h3>

<p><img src="/images/user_images/man_tail.png"></p>

<p>Задание домой: разобраться в работе <code>tail</code> самостоятельно, утилита схожа с <code>head</code></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">axazeano</span></span>

      




<time class='entry-date' datetime='2017-01-05T01:13:42+03:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>1:13 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/linux/'>linux</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://axazeano.github.io/blog/2017/01/05/linux-guide-for-beginers-part-2/" data-via="" data-counturl="http://axazeano.github.io/blog/2017/01/05/linux-guide-for-beginers-part-2/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2017/01/05/linux-guide-for-beginers-part-1/" title="Previous Post: Гайд по Linux для начинающих. Часть 1">&laquo; Гайд по Linux для начинающих. Часть 1</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/01/05/linux-guide-for-beginers-part-2/">Гайд по Linux для начинающих. Часть 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/01/05/linux-guide-for-beginers-part-1/">Гайд по Linux для начинающих. Часть 1</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - axazeano -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
